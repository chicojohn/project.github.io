<?php
require("./database.php");
error_reporting(0);

if(isset($_POST['edit'])){
    $editId = $_POST['editId'];
    $editFullname = $_POST['editFullname'];
    $editAge = $_POST['editAge'];
    $editContact = $_POST['editContact'];
    $editGender = $_POST['editGender'];
    $editUsername = $_POST['editUsername'];
    $editPassword = $_POST['editPassword'];

}


if(isset($_POST['update'])){
    $updateId = $_POST['updateId'];
    $updateFullname = $_POST['updateFullname'];
    $updateAge = $_POST['updateAge'];
    $updateContact = $_POST['updateContact'];
    $updateGender = $_POST['updateGender'];
    $updateUsername = $_POST['updateUsername'];
    $updatePassword = $_POST['updatePassword'];


    // $queryUpdate = "UPDATE accounts SET username = '$updateUsername', password = '$Updatepassword' WHERE id = $updateId";
    // $sqlUpdate = mysqli_query($connection,$queryUpdate);


    $queryRegister = "UPDATE `register_form` SET username = '$updateUsername', password = '$updatePassword', age = '$updateAge', contact = '$updateContact', gender = '$updateGender', fullname = '$updateFullname' WHERE id = $updateId";
    $sqlUpdate = mysqli_query($connection, $queryRegister);
    
    echo "SUCCEFUL UPDATED<br>";
    echo header("Location: registered_res.php");
}



?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>UPDATE PAGE</title>
</head>
<style>
body{
  background-image: url("img/logo.png"); /* The image used */
  height: 100px; /* You must set a specified height */
  background-position: center; /* Center the image */
  background-repeat: no-repeat; /* Do not repeat the image */
  background-size: 100% 150%;
  background-attachment: fixed;
}
</style>
<body>
<!-- <div class="main">
    <form class="update-main" action="/project/update.php"  method="post">
      <h3>UPDATE USER:</h3>
      <input type="text" name="updateUsername" placeholder="Update username" value= "<?php echo $editUsername ?>" required/>
      <input type="password" name="updatePassword" placeholder="Update password" value="<?php echo $editPassword ?>" required/> 
      <input type="submit" name="update" value="UPDATE">
      <input type="hidden" name="updateId" value="<?php echo $editId?>"/>

    </form>
    <a href="/project/registered_res.php">
    <button type="submit" >BACK</button>
</a>
   
  </div>

 -->


 <form class="update-main" action="/project/update.html"  method="post"> 
  <div class="container px-4 py-5 px-md-5 text-center text-lg-start my-5">
    <div class="row gx-lg-5 align-items-center mb-5">
      <div class="col-lg-6 mb-5 mb-lg-0" style="z-index: 10">
        <h1 class="my-5 display-5 fw-bold ls-tight" style="color: hsl(218, 81%, 95%)">
        ________________ <br />
          <span style="color: hsl(218, 81%, 75%)">UPDATE PAGE</span>
        </h1>
        <p class="mb-4 opacity-70" style="color: hsl(218, 81%, 85%)">
        
        </p>
      </div>

      <div class="col-lg-6 mb-5 mb-lg-0 position-relative">
        <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
        <div id="radius-shape-2" class="position-absolute shadow-5-strong"></div>

        <div class="card bg-glass">
          <div class="card-body px-4 py-5 px-md-5">
            <form>
              <!-- 2 column grid layout with text inputs for the first and last names -->
           
              <div class="form-outline mb-4">
              <label class="form-label" for="form3Example3">Name</label><br>
                <input type="text" name="updateFullname" placeholder="Update Name" value= "<?php echo $editFullname ?>" required/><br>

              <label class="form-label" for="form3Example3">Age</label><br>
                <input type="text" name="updateAge" placeholder="Update Age" value= "<?php echo $editAge ?>" required/><br>

                <label class="form-label" for="form3Example3">Contact</label><br>
                 <input type="text" name="updateContact" placeholder="Update Contact" value= "<?php echo $editContact ?>" required/><br>

                 <label class="form-label" for="form3Example3">Gender</label><br>
                <input type="text" name="updateGender" placeholder="Update Gender" value= "<?php echo $editGender ?>" required/><br>
               
                <label class="form-label" for="form3Example3">Username</label><br>
                <input type="text" name="updateUsername" placeholder="Update username" value= "<?php echo $editUsername ?>" required/><br>
                
                <label class="form-label" for="form3Example4">Password</label><br>
                <input type="password" name="updatePassword" placeholder="Update password" value="<?php echo $editPassword ?>" required/> <br>
                
              </div>


            
 
               
              <div class="d-grid gap-2 d-md-block col-md-12 text-center">
              <!-- Submit button -->
              <!-- <button type="submit" name ="login" class="btn btn-outline-secondary">Log in </button>
              <button type="submit" type="reset" value="Reset" class="btn btn-outline-secondary">Reset</button> -->

              <input type="submit" class = "btn btn-dark" name="update" value="UPDATE">
              
              <input type="hidden" name="updateId" value="<?php echo $editId?>">

              
              </div>
            
 </form>
 
   


</body>
</html>